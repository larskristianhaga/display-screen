<!DOCTYPE html>
<html lang="nb">
<head>
    <meta charset="UTF-8"/>
    <meta content="Display real-time information from Ruter, Yr and Google Calendar" name="description"/>
    <meta content="https://github.com/larskristianhaga/display-screen" name="creator"/>
    <meta content="width=device-width, initial-scale=1.0" name="viewport"/>
    <meta content="none" name="robots"/>
    <title>Display screen</title>
    <style>
        html, body {
            height: 100%;
            margin: 0;
            padding: 0;
        }

        body {
            background-color: black;
            margin: 1rem;
        }

        .corners {
            border-radius: 1rem;
        }

        .container {
            height: calc(100% - 2rem);
            display: flex;
            flex-direction: row;
            justify-content: space-between;
            column-gap: 2rem;
            overflow: hidden;
        }

        .yr-and-calender {
            max-width: 40rem;
            width: 100%;
            height: 100%;
            display: flex;
            flex-direction: column;
            row-gap: 2rem;
            justify-content: space-between;
        }

        .ruter-widget {
            width: 100%;
            min-width: 25rem;
            max-width: 60rem;

            min-height: 25rem;
        }

        .yr-widget {
            min-width: 25rem;

            height: 22rem;
        }

        .calender-widget {
            min-width: 19rem;

            height: 19rem;
        }

        .time-weekday-date {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: space-between;
            width: max-content;
            height: 100%;
        }

        #time {
            max-width: 22rem;
            font-size: 5rem;
        }

        #weekday {
            max-width: 20rem;
            font-size: 4rem;
        }

        #date {
            max-width: 20rem;
            font-size: 3rem;
        }

        iframe {
            border: none;
        }

        p {
            color: white;
        }
    </style>
    <script>
        function updateTime() {
            const localTime = new Date().toLocaleTimeString('nb-NO');
            console.debug(localTime);
            document.getElementById('time').textContent = localTime;
        }

        function updateWeekday() {
            const weekday = new Date().toLocaleDateString('nb-NO', {
                weekday: 'long'
            });
            // Capitalize first letter
            const weekdayCapitalized = weekday.charAt(0).toUpperCase() + weekday.slice(1);
            console.debug(weekdayCapitalized);
            document.getElementById('weekday').textContent = weekdayCapitalized;
        }

        function updateDate() {
            const dateTime = new Date().toLocaleDateString('nb-NO', {
                year: 'numeric',
                month: '2-digit',
                day: '2-digit'
            });
            console.debug(dateTime);
            document.getElementById('date').textContent = dateTime;
        }

        setInterval(updateTime, 1000);
        setInterval(updateWeekday, 1000);
        setInterval(updateDate, 1000);
    </script>
</head>
<body>
<div class="container">
    <iframe class="ruter-widget corners"
            src="https://mon.ruter.no/departures/59.9181008472934-10.742226849607649/N4Igrgzgpgwg9gGzAWwHYBkCGBPOYAuIAXAGaYLQA0IARnJgE4AmExA2qBPnAA4AKCTAGMoASRbsQAOQDKAJSIzu-QSKIBWABwAWAAwB2EAF1qTKIOxQmSxvgAqAS2RRiAJmoALB0zMYHqKFYiUFkFJV4BYSgiADZdAGZXV0lQogBFMBwifXU9AFoARk08gBEHaFQQalSMrJz8orzwhjg8gHEGKBIKgAIuADoq6Xl0zOxs3N1C-Sb-CqGasYmGmZk5qFR2zu6NvvxB6pHa8YLdV0144oKCqTyAWUwAKzgGLjANhaOl0-P4gE5Cjc8gBpR7mCAAU9YhwUx2WUwKAPQj0wNAYYE+sKWOX+hQBD2er3w70qMNGWR+FwBiNuACkoAxUDRMAFuAwAOZQQhkuGU3E0vIAUYgaIh+A+PO+ZwuVz+t2BDH87IgjwhmPJJ2l-LpDKZLK5L053OGWIpWqutwAqggELrlDwJSaNUQ+QDXLcAKI2pUQdFMKGOxZm37Fd15AAbXAZUJ6dnVcPqCIBzTZADcucYyeEVFFYr8Ul8KQV1Lj4jMABLgkjYBiZp3ZyJqLR6QxENhO3m6PTqalAgkvN6Bwua7tXIGg8FQ+NSv7XGYFeK6W4yFlMVMOADWmGnZtnBXneluACEoBuN4FidvJbu54V1FM2mAbR5MGB2TvNXv53E8nJsGf-FJDtsXUdR52KZpWg6LpegGD8JnUGI8XuJ4B2JIdTXGHIwOQ5FUXReDTm7ak5RBRVUGVVVCK7XQtDxHVGWZVlDQza8R1o2VbmFUVxSAoN2J7QorRtO1eAdPjhxdGi6KBelGP1NkjWo4i8jDSNxQYGM4zYqTR1Uz1vQo30wH9eYdOw+dkzZNNWOAupQPnVZ1k2aCdlQPYDjsrDEO0ZD+yJEljAAX2oVAUBoBkAHkSBKKAeFsMBOiCAp3BAfAHHwW1iBAIYmHKVFbSYOwGBZCAeBefA7jgMwgjYEwQA2AqrGIfB0SgTxvCgYrhA3eAkDQYgyAoKAQs4ZRGzECQ23qswLCsGwGHsJwXCIXQOp8DZ0H8QJiGAEKQDC5AIoYaLYvixbEp2ohNGodLMpWkA7AxUx8poQrutQMqKqqmr2Hqxq3ua0hyCoEAvDMbqhF6xAUEqYHhqC+r01eBw4Dh1wgqAA"
            title="Ruter sanntidsinformasjon">
    </iframe>
    <div class="yr-and-calender">
        <iframe class="yr-widget corners"
                src="https://www.yr.no/nb/innhold/1-72837/card.html?mode=dark"
                title="Yr vÃ¦rvarsel for Oslo">
        </iframe>
    </div>
    <div class="time-weekday-date">
        <p id="time"></p>
        <p id="weekday"></p>
        <p id="date"></p>
    </div>
</div>
</body>
</html>

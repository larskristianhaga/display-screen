<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8"/>
    <meta content="width=device-width, initial-scale=1.0" name="viewport"/>
    <meta content="Display real-time information from Ruter, Yr and Google Calendar" name="description"/>
    <meta content="none" name="robots"/>
    <title>Display screen</title>
    <style>
        .corners {
            border-radius: 1rem;
        }

        .container {
            display: flex;
            flex-direction: row;
            justify-content: space-between;
            column-gap: 2rem;
            overflow: hidden;
        }

        .ruter-widget {
            width: 100%;
            min-width: 25rem;
            max-width: 60rem;

            min-height: 25rem;
            max-height: 50rem;
        }

        .yr-widget {
            min-width: 25rem;

            height: 22rem;
        }

        .calender-widget {
            min-width: 19rem;

            height: 19rem;
        }

        .double {
            max-width: 40rem;
            width: 100%;
            display: flex;
            flex-direction: column;
            row-gap: 2rem;
        }

        .time-weekday-date {
            display: flex;
            flex-direction: column;
            align-items: flex-end;
            width: max-content;
        }

        #time {
            max-width: 22rem;
            font-size: 6rem;
        }

        #weekday {
            max-width: 20rem;
            font-size: 6rem;
        }

        #date {
            max-width: 20rem;
            min-width: 18rem;
            font-size: 4rem;
        }

        body {
            padding: 1rem;
            overflow: hidden;
        }

        iframe {
            border: none;
        }

        p {
            color: red;
        }
    </style>
    <script>
        function updateTime() {
            var localTime = new Date().toLocaleTimeString();
            console.debug(localTime);
            document.getElementById('time').textContent = localTime;
        }

        var now = new Date();

        function updateWeekday() {
            var weekday = now.toLocaleDateString('nb-NO', {weekday: 'long'});
            // Capitalize first letter
            var weekdayCapitalized = weekday.charAt(0).toUpperCase() + weekday.slice(1);
            console.debug(weekdayCapitalized);
            document.getElementById('weekday').textContent = weekdayCapitalized;
        }

        function updateDate() {
            var options = {year: 'numeric', month: '2-digit', day: 'numeric'};
            var dateTime = now.toLocaleDateString('nb-NO', options);
            console.debug(dateTime);
            document.getElementById('date').textContent = dateTime;
        }

        console.log = function(message) {
            document.getElementById('date').textContent = message;
        };

        setInterval(updateTime, 1000);
        setInterval(updateWeekday, 1000);
        setInterval(updateDate, 1000);
    </script>
</head>
<body>
<div class="container">
    <iframe class="ruter-widget corners"
            title="Ruter sanntidsinformasjon"
            src="https://mon.ruter.no/departures/59.9181008472934-10.742226849607649/N4Igrgzgpgwg9gGzAWwHYBkCGBPOYAuIAXAGaYLQA0IARnJgE4AmExA2qBPnAA4AKCTAGMoASRbsQAOQDKAJSIzu-QSKIBWABwAWAAwB2ENVkKlvAcKhEAbLoDMAJgcgAutSZRB2KEyWN8ACoAlshQxA7UABZBTB4YQahQrESgJorKFmq2js5EbNLyRACKYDhE+up6ALQAjJpVACJB0KhGBQolZRXVdVVmDHBVAOIMUCQtAARcAHRtaZ3Y5ZW6tfp9CS1zhQtLPWsyG1Cow6PjR1P4s8bbpYs1ug6advU1NVJVALKYAFZwDFxgI5bDq3Ij3R52ACctTeVQA0t9PBAAKesa4grrLWrQ9DfTA0BhgYHFUEVKHYz4-P4AoHokllcFPaE1SHvABSUAYqBomES3AYAHMoIQ6TtGeSWe8AKMQAnI-C09r0u4PJ4vVnwhgJAUQb7I4li1US9mc7m84V-IUipWGiEvd4AVQQCFNyh4ivmoPF0Ic7wAos7tRBCUxUR6bgyjfVfVUABtcTmoiYBA2krEsvr8-kAN2FrjpZhUlhsEMknoZNXU5LsawAEkiSNgGPmlYXMlYtHpDHkbV7dHp1MzYV9fv98IDWqK+wOXrCEUjUanI5DXmsanZdO8ZLymNmggBrTBLlUrmprvTvABCUH3+6S46PU+Xq9q6hWQzAzsimDAAuPYN0U811sKo5GwW8EknXtMXUNd9kOY4RjGSYZn-CpYNqep+kGJCzlQC4rmgxZ0OsCkR2pcdwwxYj1AwjNcXxQl-3uAdmQ1OEtVQHU9WY-tdC0bETS5Hk+UtPMnxVGdBKqGU5QVKDy0k-jmUdZ1XV4d0FIjJSBNhDlhPNfkrV41iqhjeMFQYJMUwkgCpJjAMECDEMwy06iAMhBxtG0KoayqesKEbZtbPQtdoX6HM8xcABfahUBQGhOQAeRIBooB4fwwFGZIagiEB8CCfAXWIEAYEwfBIimQ8EAmHhkQmX4aBoNomGafEXSYAIGF5CAeD+fAPjgDxkjYNwQCOdqfGIfBCSgKIYigLrhH3eAkDQYgyAoKBYs4DJVDECQ8jGjwvB8PwGECEIwiIXR5tiI50ASJJiGAWKQHi5BEoYFK0oyi6sueohNGoAqiuukAAiJdw2poDqltQXr+sG4b2DGibYam0hyCoEBog8JahBWxAUFaLGtuisbc3+II4FJhxoqAA">
    </iframe>
    <div class="double">
        <iframe class="calender-widget corners"
                title="Google Calendar"
                src="https://calendar.google.com/calendar/embed?height=600&wkst=2&ctz=Europe%2FBerlin&showPrint=0&showTitle=0&mode=AGENDA&showTabs=0&showCalendars=0&showTz=0&showDate=0&showNav=0&src=Zjk1MDFhOTE2ZjYxNjA4ZWEzZTUxODAzM2I3MmU3N2QzODM1MGJhM2RiMmFlZTQwMzllNzc1NjU2OGRhNTY0MEBncm91cC5jYWxlbmRhci5nb29nbGUuY29t&color=%23E67C73">
        </iframe>
        <iframe class="yr-widget corners"
                title="Yr vÃ¦rvarsel for Oslo"
                src="https://www.yr.no/nb/innhold/1-72837/card.html?mode=dark">
        </iframe>
    </div>
    <div class="time-weekday-date">
        <p id="time">Yolo</p>
        <p id="weekday"></p>
        <p id="date"></p>
    </div>
</div>
</body>
</html>